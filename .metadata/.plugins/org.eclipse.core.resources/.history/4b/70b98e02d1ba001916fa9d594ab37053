<html >
<head>
<title>User Profile</title>
<script src="./js/jquery.js"></script>
<script src="./js/angular.js"></script>
<script src="./js/angular.min.js"></script>
<link rel="stylesheet" href="./css/main.css">
<script>
  
var app = angular.module("userProfile", []);
app.controller("userProfileController",function($scope) {

	$scope.isVisible=false;
	$scope.viewButton=true;
	
	$scope.fname;
	$scope.lname;
	$scope.email;
	$scope.gender;
	$scope.mobile;
	$scope.country;
	$scope.state;
	$scope.city;
	$scope.address;
	$scope.pin;
	
	$scope.getUserProfile=function() {
		
	var url = "http://localhost:4545/PolyglotsWebApp/ViewProfileController";
	
	 $.ajax({
		 url : url,
		 method : "POST",
		
		success : function(responce) {
			//document.getElementById("info").innerHTML=responce;
			
			var json = JSON.parse(responce);
			
			$scope.fname=json["fname"];
			$scope.lname=json["lname"];
			$scope.email=json["email"];
			$scope.gender=json["gender"];
			$scope.mobile=json["mobile"];
			$scope.country=json["country"];
			$scope.state=json["state"];
			$scope.city=json["city"];
			$scope.address=json["address"];
			$scope.pin=json["pin"];
			
			$scope.isVisible=true;
			$scope.viewButton=false;
				
		},
		error : function(error) {
			console.log(error);
			
		}
	}); 
	
    }
});


</script>

</head>

<body id="userbody" ng-app="userProfile" ng-controller="userProfileController">
<header>
	<nav  >
		<a href="index.html">Home</a>
		 <a href="viewProfile.html">View Profile</a>
		  <a href="updateProfile.html">Edit Profile</a>
		  <a href="./LogoutController">Sign Out</a>
	</nav>

</header>


   <center><h2><input ng-show="viewButton" style="height: 50px;width: 250px; background-color: lime;" type="button" value="Click Here To View Your Profile" ng-click=getUserProfile()></h2></center>
   
  <div ng-show="isVisible" style="margin-left: 500px;margin-top: 100px; background-color: white;height: 500px;width: 400px;border: 2px solid;">
    <legend style="margin-left: 120px;color:black;">Your Profile</legend>
    <hr>
    <dl>
    <dt>First Name</dt>
    <dd ng-bind="fname"></dd>
    
    <dt>Last Name</dt>
    <dd ng-bind="lname"></dd>
    
    <dt>Email Id</dt>
    <dd ng-bind="email"></dd>
    
    <dt>Gender</dt>
    <dd ng-bind="gender"></dd>
    
    <dt>Contact Number</dt>
    <dd ng-bind="mobile"></dd>
    
    <dt>Country</dt>
    <dd ng-bind="country"></dd>
    
    <dt>State</dt>
    <dd ng-bind="state"></dd>
    
    <dt>City</dt>
    <dd ng-bind="city"></dd>
    
    <dt>Address</dt>
    <dd ng-bind="address"></dd>
    
    <dt>Pin Code</dt>
    <dd ng-bind="pin"></dd>
    
    
    </dl>
  </div>
  
</body  >
<footer id="userfooter">
<br>
<span style="color: white; margin-left: 500px; margin-top: 50px;"> SuperWorks Solutions Pvt Ltd 2019 © All Rights Reserved</span>

</footer>
<html>